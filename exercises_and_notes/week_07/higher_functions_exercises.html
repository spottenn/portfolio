<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Higher Functions Exercises</title>
</head>
<body>
<p>Check source file and browser console.</p>
<script>
    //Flattening.
    //___________________

    let arrays = [[1, 2, 3], [4, 5], [6]];
    let resultArray = arrays.reduce((accumulator, value) => accumulator.concat(value))
    console.log(resultArray.toString());
    // → [1, 2, 3, 4, 5, 6]

    //Your own loop
    //_______________

    // using while
    function loop (value, test, update, body) {
        while(test(value)) {
            body(value);
            value = update(value);
        }
    }
    //Alternatively, using for
    function loopAlt(value, test, update, body) {
        for(; test(value); value = update(value)) {
            body(value);
        }
    }
    loop(3, n => n > 0, n => n - 1, console.log);
    loopAlt(3, n => n > 0, n => n - 1, console.log);


    //Everything
    //__________________________
    function every(array, test) {
        let result = true;
        array.forEach(value => result &&= test(value));
        return result;
    }

    function everySome(array, test){
        return !array.some(value => !test(value));
    }

    console.log(every([1, 3, 5], n => n < 10));
    // → true
    console.log(every([2, 4, 16], n => n < 10));
    // → false
    console.log(every([], n => n < 10));
    // → true
</script>
</body>
</html>